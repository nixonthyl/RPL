<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setor.in - Jenis Sampah</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #7fd8be 0%, #5db39a 100%);
            min-height: 100vh;
            padding-top: 20px;
            padding-bottom: 80px;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .header {
            background: white;
            border-radius: 15px;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .back-btn {
            background: #ddd;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .back-btn:hover {
            background: #ccc;
        }

        .header h1 {
            font-size: 22px;
            font-weight: bold;
            color: #1a1a1a;
            flex: 1;
        }

        .info-box {
            background: #2d8659;
            color: white;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            margin-bottom: 20px;
            font-size: 14px;
            line-height: 1.6;
        }

        .category-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
        }

        .category-icon {
            width: 60px;
            height: 60px;
            background: #f0f0f0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
        }

        .category-info {
            flex: 1;
        }

        .category-name {
            font-size: 12px;
            color: #999;
            margin-bottom: 5px;
        }

        .category-title {
            font-size: 20px;
            font-weight: bold;
            color: #1a1a1a;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            gap: 10px;
            background: #2d8659;
            border-radius: 8px;
            padding: 8px 15px;
            color: white;
            width: fit-content;
        }

        .quantity-btn {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 18px;
            padding: 0 5px;
            transition: transform 0.2s;
        }

        .quantity-btn:hover {
            transform: scale(1.2);
        }

        .sub-category {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .sub-category:last-child {
            border-bottom: none;
        }

        .sub-name {
            font-size: 14px;
            color: #1a1a1a;
        }

        .checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #2d8659;
            border-radius: 6px;
            background: #f0f0f0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: #2d8659;
        }

        .checkbox.checked {
            background: #2d8659;
            color: white;
        }

        .section-title {
            font-size: 16px;
            font-weight: bold;
            color: #1a1a1a;
            margin: 20px 0 15px 0;
        }

        .footer-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            max-width: 460px;
            margin: 0 auto;
            background: #2d8659;
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
            cursor: pointer;
            border: none;
            font-size: 16px;
            transition: background 0.3s;
        }

        .footer-btn:hover {
            background: #1f5c40;
        }

        .footer-text {
            font-size: 12px;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <button class="back-btn" onclick="window.history.back()">‚Üê</button>
            <h1 id="wasteType">Jenis Sampah</h1>
        </div>

        <div class="info-box">
            Untuk berat sampah <strong>1kg</strong> ke bawah, masukkan perkiraan berat <strong>1kg</strong>
        </div>

        <div class="category-card">
            <div class="category-header">
                <div class="category-icon">ü™ü</div>
                <div class="category-info">
                    <div class="category-name">Perkiraan Berat</div>
                    <div class="category-title" id="categoryName">Botol Kaca</div>
                </div>
                <div class="quantity-control">
                    <button class="quantity-btn" onclick="decreaseQty()">‚àí</button>
                    <span id="quantity">0</span>kg
                    <button class="quantity-btn" onclick="increaseQty()">+</button>
                </div>
            </div>

            <div class="section-title">Sub Jenis Sampah</div>
            <div id="subCategories"></div>
        </div>
    </div>

    <button class="footer-btn" onclick="goToPayment()">
        <div id="priceText">Rp 0</div>
        <div class="footer-text">Estimasi harga/Kg</div>
    </button>

    <script>
        const wasteData = {
            'botol-kaca': {
                name: 'Botol Kaca',
                icon: 'ü™ü',
                price: 500,
                subs: ['Botol Kecap', 'Botol Saus', 'Botol Sirup DHT', 'Botol Minuman Keras Besar', 'Botol Minuman Keras Kecil', 'Botol Kaca Lainnya']
            },
            'kertas': {
                name: 'Kertas',
                icon: 'üìÑ',
                price: 2000,
                subs: ['Koran', 'Buku Bekas', 'Kertas Putih/HVS', 'Kertas Warna/Duplek', 'Kertas Buram', 'Karton', 'Kertas Lainnya']
            },
            'plastik': {
                name: 'Plastik',
                icon: 'üß¥',
                price: 3000,
                subs: ['Gelas Plastik - Gelas Bening (PP)', 'Gelas Warna (PP)', 'Botol (PET)', 'HD Blow - Botol Plastik(HDPE)', 'HD - Mainan Anak(PVC)', 'Damar - Perabotan Rumah(OTHERS)', 'Plastik Lainnya', 'Perabotan Plastik - Wadah Plastik (PP)', 'Tutup Botol (LDPE)', 'Karung (PP)']
            },
            'aluminium': {
                name: 'Aluminium',
                icon: 'ü•´',
                price: 12000,
                subs: ['Alma Tipis', 'Alma Tebal', 'Lis', 'Kaleng/Seng', 'Aluminium Lainnya']
            },
            'besi': {
                name: 'Besi',
                icon: '‚öôÔ∏è',
                price: 100000,
                subs: ['Besi Tebal', 'Besi Tipis', 'Kuningan', 'Tembaga Biasa', 'Tembaga Super', 'Timah', 'Kepala Aki', 'Aki', 'Besi Premium', 'Besi Lainnya']
            }
        };

        let currentWaste = 'botol-kaca';
        let quantity = 0;

        function initPage() {
            const params = new URLSearchParams(window.location.search);
            const waste = params.get('type') || currentWaste;
            currentWaste = waste;

            const data = wasteData[waste];
            if (data) {
                document.getElementById('wasteType').textContent = data.name;
                document.getElementById('categoryName').textContent = data.name;

                const subContainer = document.getElementById('subCategories');
                subContainer.innerHTML = data.subs.map((sub, idx) => `
                    <div class="sub-category">
                        <div class="sub-name">${sub}</div>
                        <div class="checkbox" onclick="toggleCheck(this)">‚úì</div>
                    </div>
                `).join('');
            }
        }

        function increaseQty() {
            quantity++;
            updatePrice();
        }

        function decreaseQty() {
            if (quantity > 0) quantity--;
            updatePrice();
        }

        function updatePrice() {
            document.getElementById('quantity').textContent = quantity;
            const price = wasteData[currentWaste].price * quantity;
            document.getElementById('priceText').textContent = 'Rp ' + price.toLocaleString('id-ID');
        }

        function toggleCheck(el) {
            el.classList.toggle('checked');
        }

        function goToPayment() {
            if (quantity > 0) {
                window.location.href = `pembayaran.html?type=${currentWaste}&qty=${quantity}`;
            } else {
                alert('Silakan pilih jumlah sampah terlebih dahulu');
            }
        }

        initPage();
    </script>
</body>
</html>